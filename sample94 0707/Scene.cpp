#include "ev3api.h"
#include "Scene.h"

/* シーンを取得する */
linecourse_scene setLineCourseScene(){
    //printf("\n setLineCourseSceneの初期化完了\n");
    static int sceneIndex = -1;
    const linecourse_scene result[] = {
        // 実機用
//       forward,      edge,     P,         I,         D,        target_distance
//
        // {   40,         1,      2,      0.4,      0.05,       10000},
        {   60,         1,      0.2,      0.5,      0.05,       1035},
        // {   40,         1,      2.0,      1.00,       0.05,       1270},//第一コーナー
        {   40,         1,      2.0,      1.5,       0.05,       1320},//第一コーナー
        {   40,         1,      2.0,      1.5,      0.05,       1550},
        // {   60,         1,      0.2,      0.5,      0.05,       3000},
        // {   40,         1,      2.0,      1.0,      0.05,       3190},
        {   60,         1,      0.2,      0.50,      0.05,       3200},
        {   40,         1,      2.00,      0.5,       0.05,       3500},//第二コーナー
        {   40,         1,      2.00,      0.5,      0.05,       3700},
        {   40,         1,      2.0,      0.5,      0.05,       4000},
        {   50,         1,      1.0,         2.50,       0.05,       5000},
        {   35,         1,      1.00,         2.00,       0.05,   5050},
        {   40,         1,      1,         0.2,       0.04,       5700},
        {   40,         -1,      1,        0.4,       0.05,       7550},
        {   40,         1,      1.00,        0.3,       0.04,      10000},
        {   40,         1,      2,         0.4,       0.05,      20000},

        // {   40,         1,     1,      0.07,      0.05,       3100},
        // {   40,         1,      0.55,   0.07,      0.05,       3350},
        // {   40,         1,      2,   0.4,      0.08,       3650},
        // {   40,         1,      2,   0.4,      0.05,       20000},

        // {   50,         -1,      0.55,   0.07,      0.05,       20000},

        // {   40,         -1,      0.6,   0.07,      0.05,       3300},
        // {   40,         -1,      0.55,   0.008,      0.05,       10000},


        // {   40,         1,      0.7,   0.008,     0.05,       6000},
        // {   40,         -1,      0.7,   0.008,     0.06,       2000},
        // {   40,         -1,      0.55,   0.0087,     0.051,      3300},s
        // {   40,         1,      0.55,   0.0087,     0.051,      3500},
        // {   40,         1,      0.5,    0.008,      0.05,       4000},
        // {   40,         -1,      0.55,   0.007,      0.043,      4600},
        // {   40,         -1,      0.55,   0.0087,     0.051,      4850},
        // {   40,         -1,     0.55,   0.0087,     0.051,      5350},
        // {   40,         1,      0.55,   0.0087,     0.051,      5500},
        // {   40,         1,      0.55,   0.0085,     0.05,       7600},
        // {   40,         1,      0.4,    0.0,        0.035,      8500},
        // {   40,         1,      0.55,   0.008,      0.05,       8700},
        // {   40,         1,      0.55,   0.0087,     0.05,       9600},
        // // {   80,         1,      0.5,    0.008,      0.045,      10800},
        // {   50,         1,      0.55,   0.008,      0.045,      11000},
        // {   30,         1,      0.55,   0.0087,     0.051,      11200},
        // {   20,         1,      0.64,    0.0087,    0.055,      13000},
        // // {   10,         1,      0.64,    0.0087,    0.055,      13000},
        // {   13,         1,      0.73,    0.0087,    0.06,      13000},
        // {   20,         1,      0.64,     0.0087,    0.055,      20000}
        // // {   30,         -1,      0.55,    0.0087,    0.051,      13000}
    };
    sceneIndex++;

//    if(sceneIndex >= sizeof(result)/sizeof(linecourse_scene) ){
//        sceneIndex = sizeof(result)/sizeof(linecourse_scene);
//    }

    // memcpy(scene, result, sizeof(result));
    return result[sceneIndex];
}

